{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getMessaging } from \"firebase/messaging/sw\";\nconst firebaseConfig = initializeApp({\n  apiKey: \"AIzaSyDtAnVXukt9kQgJV0den1oEhrieUNqI9_I\",\n  authDomain: \"fcm-test-e1aa5.firebaseapp.com\",\n  projectId: \"fcm-test-e1aa5\",\n  storageBucket: \"fcm-test-e1aa5.appspot.com\",\n  messagingSenderId: \"47932052637\",\n  appId: \"1:47932052637:web:1a9113193cd003ea46f074\"\n});\nconst messaging = getMessaging(firebaseConfig);\nconst {\n  REACT_APP_VAPID_KEY\n} = \"BFP5fUpJBxUhvTOfaH3T1h_2nQEVDjrUj27YyAI9fMNWZBiniAprd3Tkyc4rMpnaqxunBVyIzQtrpQnkZOlTKA4\";\nconst publicKey = REACT_APP_VAPID_KEY;\nexport const getToken = setTokenFound => {\n  return messaging.getToken({\n    vapidKey: publicKey\n  }).then(currentToken => {\n    if (currentToken) {\n      console.log(\"current token for client: \", currentToken);\n      setTokenFound(true); // Track the token -> client mapping, by sending to backend server\n      // show on the UI that permission is secured\n    } else {\n      console.log(\"No registration token available. Request permission to generate one.\");\n      setTokenFound(false); // shows on the UI that permission is required\n    }\n  }).catch(err => {\n    console.log(\"An error occurred while retrieving token. \", err); // catch error while creating client token\n  });\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  messaging.onMessage(payload => {\n    resolve(payload);\n  });\n});","map":{"version":3,"sources":["/Users/jaehoonpark/Desktop/깃허브/web-noti/src/firebaseInit.js"],"names":["initializeApp","getMessaging","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","messaging","REACT_APP_VAPID_KEY","publicKey","getToken","setTokenFound","vapidKey","then","currentToken","console","log","catch","err","onMessageListener","Promise","resolve","onMessage","payload"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,YAAT,QAA6B,uBAA7B;AAEA,MAAMC,cAAc,GAAGF,aAAa,CAAC;AACnCG,EAAAA,MAAM,EAAE,yCAD2B;AAEnCC,EAAAA,UAAU,EAAE,gCAFuB;AAGnCC,EAAAA,SAAS,EAAE,gBAHwB;AAInCC,EAAAA,aAAa,EAAE,4BAJoB;AAKnCC,EAAAA,iBAAiB,EAAE,aALgB;AAMnCC,EAAAA,KAAK,EAAE;AAN4B,CAAD,CAApC;AASA,MAAMC,SAAS,GAAGR,YAAY,CAACC,cAAD,CAA9B;AACA,MAAM;AAAEQ,EAAAA;AAAF,IACJ,yFADF;AAEA,MAAMC,SAAS,GAAGD,mBAAlB;AAEA,OAAO,MAAME,QAAQ,GAAIC,aAAD,IAAmB;AACzC,SAAOJ,SAAS,CACbG,QADI,CACK;AAAEE,IAAAA,QAAQ,EAAEH;AAAZ,GADL,EAEJI,IAFI,CAEEC,YAAD,IAAkB;AACtB,QAAIA,YAAJ,EAAkB;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,YAA1C;AACAH,MAAAA,aAAa,CAAC,IAAD,CAAb,CAFgB,CAGhB;AACA;AACD,KALD,MAKO;AACLI,MAAAA,OAAO,CAACC,GAAR,CACE,sEADF;AAGAL,MAAAA,aAAa,CAAC,KAAD,CAAb,CAJK,CAKL;AACD;AACF,GAfI,EAgBJM,KAhBI,CAgBGC,GAAD,IAAS;AACdH,IAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DE,GAA1D,EADc,CAEd;AACD,GAnBI,CAAP;AAoBD,CArBM;AAuBP,OAAO,MAAMC,iBAAiB,GAAG,MAC/B,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACvBd,EAAAA,SAAS,CAACe,SAAV,CAAqBC,OAAD,IAAa;AAC/BF,IAAAA,OAAO,CAACE,OAAD,CAAP;AACD,GAFD;AAGD,CAJD,CADK","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getMessaging } from \"firebase/messaging/sw\";\n\nconst firebaseConfig = initializeApp({\n  apiKey: \"AIzaSyDtAnVXukt9kQgJV0den1oEhrieUNqI9_I\",\n  authDomain: \"fcm-test-e1aa5.firebaseapp.com\",\n  projectId: \"fcm-test-e1aa5\",\n  storageBucket: \"fcm-test-e1aa5.appspot.com\",\n  messagingSenderId: \"47932052637\",\n  appId: \"1:47932052637:web:1a9113193cd003ea46f074\",\n});\n\nconst messaging = getMessaging(firebaseConfig);\nconst { REACT_APP_VAPID_KEY } =\n  \"BFP5fUpJBxUhvTOfaH3T1h_2nQEVDjrUj27YyAI9fMNWZBiniAprd3Tkyc4rMpnaqxunBVyIzQtrpQnkZOlTKA4\";\nconst publicKey = REACT_APP_VAPID_KEY;\n\nexport const getToken = (setTokenFound) => {\n  return messaging\n    .getToken({ vapidKey: publicKey })\n    .then((currentToken) => {\n      if (currentToken) {\n        console.log(\"current token for client: \", currentToken);\n        setTokenFound(true);\n        // Track the token -> client mapping, by sending to backend server\n        // show on the UI that permission is secured\n      } else {\n        console.log(\n          \"No registration token available. Request permission to generate one.\"\n        );\n        setTokenFound(false);\n        // shows on the UI that permission is required\n      }\n    })\n    .catch((err) => {\n      console.log(\"An error occurred while retrieving token. \", err);\n      // catch error while creating client token\n    });\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    messaging.onMessage((payload) => {\n      resolve(payload);\n    });\n  });\n"]},"metadata":{},"sourceType":"module"}