{"ast":null,"code":"import firebase from \"firebase/app\";\nimport \"firebase/messaging\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDtAnVXukt9kQgJV0den1oEhrieUNqI9_I\",\n  authDomain: \"fcm-test-e1aa5.firebaseapp.com\",\n  projectId: \"fcm-test-e1aa5\",\n  storageBucket: \"fcm-test-e1aa5.appspot.com\",\n  messagingSenderId: \"47932052637\",\n  appId: \"1:47932052637:web:1a9113193cd003ea46f074\"\n};\nfirebase.initializeApp(firebaseConfig);\nconst messaging = firebase.messaging();\nconst {\n  REACT_APP_VAPID_KEY\n} = \"BFP5fUpJBxUhvTOfaH3T1h_2nQEVDjrUj27YyAI9fMNWZBiniAprd3Tkyc4rMpnaqxunBVyIzQtrpQnkZOlTKA4\";\nconst publicKey = REACT_APP_VAPID_KEY;\nexport const getToken = async setTokenFound => {\n  let currentToken = \"\";\n\n  try {\n    currentToken = await messaging.getToken({\n      vapidKey: publicKey\n    });\n\n    if (currentToken) {\n      setTokenFound(true);\n    } else {\n      setTokenFound(false);\n    }\n  } catch (error) {\n    console.log(\"An error occurred while retrieving token.\", error);\n  }\n\n  return currentToken;\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  messaging.onMessage(payload => {\n    resolve(payload);\n  });\n});","map":{"version":3,"sources":["/Users/jaehoonpark/Desktop/깃허브/web-noti/src/firebaseInit.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","initializeApp","messaging","REACT_APP_VAPID_KEY","publicKey","getToken","setTokenFound","currentToken","vapidKey","error","console","log","onMessageListener","Promise","resolve","onMessage","payload"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,gCAFS;AAGrBC,EAAAA,SAAS,EAAE,gBAHU;AAIrBC,EAAAA,aAAa,EAAE,4BAJM;AAKrBC,EAAAA,iBAAiB,EAAE,aALE;AAMrBC,EAAAA,KAAK,EAAE;AANc,CAAvB;AASAP,QAAQ,CAACQ,aAAT,CAAuBP,cAAvB;AAEA,MAAMQ,SAAS,GAAGT,QAAQ,CAACS,SAAT,EAAlB;AACA,MAAM;AAAEC,EAAAA;AAAF,IACJ,yFADF;AAEA,MAAMC,SAAS,GAAGD,mBAAlB;AAEA,OAAO,MAAME,QAAQ,GAAG,MAAOC,aAAP,IAAyB;AAC/C,MAAIC,YAAY,GAAG,EAAnB;;AACA,MAAI;AACFA,IAAAA,YAAY,GAAG,MAAML,SAAS,CAACG,QAAV,CAAmB;AAAEG,MAAAA,QAAQ,EAAEJ;AAAZ,KAAnB,CAArB;;AACA,QAAIG,YAAJ,EAAkB;AAChBD,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KAFD,MAEO;AACLA,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF,GAPD,CAOE,OAAOG,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ,EAAyDF,KAAzD;AACD;;AACD,SAAOF,YAAP;AACD,CAbM;AAeP,OAAO,MAAMK,iBAAiB,GAAG,MAC/B,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACvBZ,EAAAA,SAAS,CAACa,SAAV,CAAqBC,OAAD,IAAa;AAC/BF,IAAAA,OAAO,CAACE,OAAD,CAAP;AACD,GAFD;AAGD,CAJD,CADK","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/messaging\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDtAnVXukt9kQgJV0den1oEhrieUNqI9_I\",\n  authDomain: \"fcm-test-e1aa5.firebaseapp.com\",\n  projectId: \"fcm-test-e1aa5\",\n  storageBucket: \"fcm-test-e1aa5.appspot.com\",\n  messagingSenderId: \"47932052637\",\n  appId: \"1:47932052637:web:1a9113193cd003ea46f074\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst messaging = firebase.messaging();\nconst { REACT_APP_VAPID_KEY } =\n  \"BFP5fUpJBxUhvTOfaH3T1h_2nQEVDjrUj27YyAI9fMNWZBiniAprd3Tkyc4rMpnaqxunBVyIzQtrpQnkZOlTKA4\";\nconst publicKey = REACT_APP_VAPID_KEY;\n\nexport const getToken = async (setTokenFound) => {\n  let currentToken = \"\";\n  try {\n    currentToken = await messaging.getToken({ vapidKey: publicKey });\n    if (currentToken) {\n      setTokenFound(true);\n    } else {\n      setTokenFound(false);\n    }\n  } catch (error) {\n    console.log(\"An error occurred while retrieving token.\", error);\n  }\n  return currentToken;\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    messaging.onMessage((payload) => {\n      resolve(payload);\n    });\n  });\n"]},"metadata":{},"sourceType":"module"}